<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watch Ads - Earnzy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Premium Header -->
        <header class="glass-effect sticky top-0 z-50">
            <div class="px-6 py-4">
                <div class="flex justify-between items-center">
                    <div class="flex items-center">
                        <a href="dashboard.html" class="text-gray-600 mr-3">
                            ‚Üê Back
                        </a>
                        <div>
                            <h1 class="text-xl font-bold text-gray-800">Watch Ads</h1>
                            <p class="text-sm text-gray-600">Earn coins by watching</p>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-amber-400 to-amber-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg">
                        <span id="userCoins">100</span> ü™ô
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="content-with-premium-nav p-6">
            <!-- Current Balance -->
            <div class="card-premium text-center mb-6">
                <div class="text-sm text-gray-600 mb-2">Available Balance</div>
                <div class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-500 to-emerald-500 mb-2" id="currentBalance">100</div>
                <div class="text-gray-600">coins ready to earn</div>
            </div>

            <!-- Video Ads -->
            <div class="mb-8">
                <h3 class="text-lg font-bold mb-4 text-gray-800">Available Videos</h3>
                <div class="space-y-4">
                    <!-- Video 1 -->
                    <div class="card-premium">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-12 h-12 bg-gradient-to-br from-red-400 to-red-600 rounded-xl flex items-center justify-center mr-4 shadow-lg">
                                    <span class="text-white text-lg">üé¨</span>
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">Short Ad Video</div>
                                    <div class="text-sm text-gray-600">30 seconds ‚Ä¢ 15 coins</div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-green-400 to-green-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                +15 ü™ô
                            </div>
                        </div>
                        <button onclick="watchAd(15)" class="btn-premium">
                            <span>Watch Now</span>
                            <span>‚ñ∂Ô∏è</span>
                        </button>
                    </div>

                    <!-- Video 2 -->
                    <div class="card-premium">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center mr-4 shadow-lg">
                                    <span class="text-white text-lg">üì∫</span>
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">Product Review</div>
                                    <div class="text-sm text-gray-600">45 seconds ‚Ä¢ 25 coins</div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-green-400 to-green-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                +25 ü™ô
                            </div>
                        </div>
                        <button onclick="watchAd(25)" class="btn-premium">
                            <span>Watch Now</span>
                            <span>‚ñ∂Ô∏è</span>
                        </button>
                    </div>

                    <!-- Video 3 -->
                    <div class="card-premium">
                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center">
                                <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center mr-4 shadow-lg">
                                    <span class="text-white text-lg">üéÆ</span>
                                </div>
                                <div>
                                    <div class="font-bold text-gray-800">Game Promotion</div>
                                    <div class="text-sm text-gray-600">60 seconds ‚Ä¢ 35 coins</div>
                                </div>
                            </div>
                            <div class="bg-gradient-to-r from-green-400 to-green-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                +35 ü™ô
                            </div>
                        </div>
                        <button onclick="watchAd(35)" class="btn-premium">
                            <span>Watch Now</span>
                            <span>‚ñ∂Ô∏è</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Premium Bottom Navigation -->
        <nav class="premium-nav">
            <a href="dashboard.html" class="premium-nav-item">
                <span class="premium-nav-icon">üè†</span>
                <span class="premium-nav-label">Home</span>
            </a>
            <a href="watch.html" class="premium-nav-item active">
                <span class="premium-nav-icon">üé•</span>
                <span class="premium-nav-label">Earn</span>
            </a>
            <a href="referral.html" class="premium-nav-item">
                <span class="premium-nav-icon">üë•</span>
                <span class="premium-nav-label">Refer</span>
            </a>
            <a href="profile.html" class="premium-nav-item">
                <span class="premium-nav-icon">üë§</span>
                <span class="premium-nav-label">Profile</span>
            </a>
        </nav>
    </div>

    <script>
        // WATCH ADS - LOCAL STORAGE SYSTEM
        console.log('üé• Watch Ads page loaded');
        
        // Initialize user data
        function initializeUser() {
            let userData = JSON.parse(localStorage.getItem('earnzy_user'));
            
            if (!userData) {
                userData = {
                    email: 'user@earnzy.com',
                    total_coins: 100,
                    daily_streak: 0,
                    referral_code: 'EARNZY123'
                };
                localStorage.setItem('earnzy_user', JSON.stringify(userData));
            }
            
            updateUI(userData);
            return userData;
        }
        
        // Update UI
        function updateUI(userData) {
            document.getElementById('userCoins').textContent = userData.total_coins;
            document.getElementById('currentBalance').textContent = userData.total_coins;
        }
        
        // Watch ad function
        function watchAd(coins) {
            // Show loading
            event.target.innerHTML = '<span>Watching...</span> <span>‚è≥</span>';
            event.target.disabled = true;
            
            // Simulate ad watching
            setTimeout(() => {
                addCoins(coins, 'watch');
                event.target.innerHTML = '<span>Watch Again</span> <span>‚ñ∂Ô∏è</span>';
                event.target.disabled = false;
            }, 3000);
        }
        
        // Add coins
        function addCoins(coins, type) {
            let userData = JSON.parse(localStorage.getItem('earnzy_user'));
            userData.total_coins += coins;
            localStorage.setItem('earnzy_user', JSON.stringify(userData));
            
            updateUI(userData);
            
            // Show success
            alert(`üéâ You earned ${coins} coins from watching ads!\nTotal: ${userData.total_coins} coins`);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeUser();
        });
        
        // Navigation
        document.querySelectorAll('.premium-nav-item').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.premium-nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
